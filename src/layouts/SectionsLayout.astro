---
type Section = "architecture" | "photographie" | "info";

export interface Props {
	title: string;
	section: Section;
}

const { title, section } = Astro.props;

const EMAIL = "isidoro.pannitti@gmail.com";
const INSTAGRAM_HANDLE = "@_isoradio";
const INSTAGRAM_URL = "https://www.instagram.com/_isoradio/";
---

<html lang="it">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,300;1,300&display=swap"
			rel="stylesheet"
		/>
		<title>{title}</title>
		<style>
			:root {
				color-scheme: light;
				--edge: clamp(1.25rem, 3vw, 2.5rem);
			}

			* {
				box-sizing: border-box;
			}

			html,
			body {
				margin: 0;
				padding: 0;
				background: #fff;
				color: #000;
				font-family: "Work Sans", sans-serif;
				font-weight: 300;
				font-size: clamp(0.98rem, 1.05vw, 1rem);
				line-height: 1.45;
			}

			a {
				color: inherit;
				text-decoration: none;
				transition: opacity 140ms ease;
			}

			a:hover,
			a:focus-visible {
				opacity: 0.68;
			}

			.left-fixed,
			.right-fixed {
				position: fixed;
				top: var(--edge);
				z-index: 10;
			}

			.menu-toggle {
				position: fixed;
				opacity: 0;
				pointer-events: none;
			}

			.left-fixed {
				left: var(--edge);
				display: grid;
				gap: 0.12rem;
				text-transform: lowercase;
				transition: transform 280ms ease, opacity 240ms ease;
			}

			.left-fixed p {
				margin: 0;
			}

			.right-fixed {
				right: var(--edge);
				text-transform: lowercase;
				display: flex;
				align-items: center;
				gap: 0.5rem;
			}

			.sections-nav {
				display: flex;
				align-items: center;
				gap: 0;
			}

			.right-fixed .active {
				font-style: italic;
			}

			.menu-trigger {
				display: none;
				cursor: pointer;
				user-select: none;
				font-size: 1.3em;
				line-height: 1;
				transition: opacity 220ms ease, transform 260ms ease;
			}

			main {
				min-height: 100vh;
				padding: clamp(6.9rem, 17vh, 9.5rem) var(--edge) 2rem;
			}

			@media (max-width: 980px) {
				html,
				body {
					font-size: clamp(0.88rem, 3.5vw, 0.95rem);
				}

				.menu-trigger {
					display: inline-flex;
				}

				.sections-nav {
					transform: translateX(0.9rem);
					opacity: 0;
					pointer-events: none;
					transition: transform 280ms ease, opacity 240ms ease;
					white-space: nowrap;
				}

				.menu-toggle:checked ~ .left-fixed {
					transform: translateX(calc(-100% - var(--edge)));
					opacity: 0;
				}

				.menu-toggle:checked ~ .right-fixed .menu-trigger {
					opacity: 0;
					transform: translateX(0.45rem);
					pointer-events: none;
				}

				.menu-toggle:checked ~ .right-fixed .sections-nav {
					transform: translateX(0);
					opacity: 1;
					pointer-events: auto;
				}
			}
		</style>
	</head>
	<body>
		<input class="menu-toggle" type="checkbox" id="sections-toggle" />

		<div class="left-fixed">
			<p>isidoro pannitti architetto</p>
			<p>
				<a href={`mailto:${EMAIL}`}>{EMAIL}</a>
			</p>
			<p>
				<a href={INSTAGRAM_URL} target="_blank" rel="noreferrer noopener">{INSTAGRAM_HANDLE}</a>
			</p>
		</div>

		<div class="right-fixed">
			<label class="menu-trigger" for="sections-toggle">+</label>
			<nav class="sections-nav" aria-label="Sections">
				<a class:list={{ active: section === "architecture" }} href="/">architecture</a>
				<span>,&nbsp;</span>
				<a class:list={{ active: section === "photographie" }} href="/photographie">photographie</a>
				<span>,&nbsp;</span>
				<a class:list={{ active: section === "info" }} href="/info">info</a>
			</nav>
		</div>

		<main>
			<slot />
		</main>
	</body>
</html>
